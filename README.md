# @dminko #

Административная утилита для управления каталогом продуктов магазина.

Автор: Сарафанов И.В. e-mail: naviras@mail.ru


## Инструкции по инсталляции программного продукта ##

1. Скачиваем с github [zip-пакет](https://github.com/Sarafanov/adminko/archive/master.zip).

2. После распаковки архива, запускаем терминал и переходим во вновь созданный каталог.

3. Создание БД.
  * Создаем пользователя postgresql.
  
  	`$ sudo -u postgres createuser ivan`
	
  * Создаем пустую БД.
  
	`$ sudo -u postgres createdb adminko`
	
  * Разворачиваем БД из файла дампа.
  
	`$ psql adminko < adminko.sql`

4. Создание виртуального программного окружения.

	> Пакет *virtualenv* должен быть установлен в системе.
	> Наличие пакета можно проверить командой `pip list`.
	> Команда для установки *virtualenv* `pip install virtualenv`.

	`$ virtualenv --python=python2.7 .venv`
	
5. Исталляция пакета приложения в программной среде.

  	> В начале заголовка командной строки должно появиться *(.venv)*.
	> Если этого не произошло нужно выполнить команду активации `$ . .venv/bin/activate`	

	`(.venv) $ pip install -e .`	
	
6. Экспорт переменных среды окружения для Flask и запуск сервера.

	`(.venv) $ export FLASK_APP=adminko`

	`(.venv) $ flask run`
	
	> После запуска приложение доступно по адресу: http://127.0.0.1:5000.
	> Останов сервера: **Ctrl-C**.
	> Для доступа к приложению с других компьютеров локальной сети
	> сервер нужно запускать командой `flask run --host 0.0.0.0`

7. Завершение работы приложения. Удаление приложения.
	
	Для возврата к нормальному режиму работы командной строки выполните `deactivate`.
	Для удаления приложения просто удалите его каталог.
	Удаление БД приложения `$ sudo -u postgres dropdb adminko`.

Список пользователей системы (**пароль пользователя соответствует логину**):
* admin	- реализован функционал по привязке менеджеров к категориям товаров
* manager1
* manager2
* manager3
* manager4
* manager5
* manager6
* Jon Snow




